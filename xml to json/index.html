<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>Variables meteorol√≤giques</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 2em;
      margin: 0;
      background: linear-gradient(to bottom, #a8dadc, #f1faee);
      background-attachment: fixed;
      min-height: 100vh;
    }

    h1 {
      color: #1d3557;
      margin-bottom: 1em;
      text-align: center;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .dia {
      background: #ffffff;
      padding: 1.5em;
      margin: 2em auto;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      max-width: 800px;
      border: 2px solid transparent;
    }

    .dia:hover {
      transform: translateY(-6px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      border-image: linear-gradient(45deg, #457b9d, #1d3557) 1;
    }

    h2 {
      margin-top: 0;
      color: #457b9d;
      border-bottom: 1px solid #a8dadc;
      padding-bottom: 0.5em;
    }

    .variable {
      margin-bottom: 1em;
      padding: 0.75em;
      border-left: 4px solid #457b9d;
      background-color: #f1faee;
      border-radius: 6px;
      transition: background-color 0.3s ease;
    }

    .variable:hover {
      background-color: #e0f7fa;
    }

    .variable strong {
      color: #1d3557;
      display: inline-block;
      min-width: 140px;
    }
  </style>
</head>
<body>
  <h1>üå§Ô∏è Variables meteorol√≤giques per dia</h1>
  <div id="resultat"></div>

  <script>
    function formatData(dataString) {
      const any = dataString.substring(0, 4);
      const mes = dataString.substring(4, 6);
      const dia = dataString.substring(6, 8);
      const data = new Date(`${any}-${mes}-${dia}`);
      const diesSetmana = ['Diumenge', 'Dilluns', 'Dimarts', 'Dimecres', 'Dijous', 'Divendres', 'Dissabte'];
      const mesos = ['gener', 'febrer', 'mar√ß', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre'];
      return `${diesSetmana[data.getDay()]}, ${data.getDate()} de ${mesos[data.getMonth()]} de ${data.getFullYear()}`;
    }

    fetch('proper_dies.json')
      .then(res => res.json())
      .then(dades => {
        const contenidor = document.getElementById('resultat');
        dades.forEach(entrada => {
          const div = document.createElement('div');
          div.className = 'dia';

          const titol = document.createElement('h2');
          titol.textContent = `üìÖ ${formatData(entrada.diaPredit)}`;
          div.appendChild(titol);

          const variables = entrada.versio.variables;
          for (const [clau, valor] of Object.entries(variables)) {
            const bloc = document.createElement('div');
            bloc.className = 'variable';
            bloc.innerHTML = `<strong>${clau.charAt(0).toUpperCase() + clau.slice(1)}:</strong> ${valor}`;
            div.appendChild(bloc);
          }

          contenidor.appendChild(div);
        });
      })
      .catch(error => {
        console.error("Error carregant proper_dies.json:", error);
      });
  </script>  
</body>
</html>
